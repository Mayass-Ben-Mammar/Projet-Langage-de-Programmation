<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CountryData</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="Nav">
        <h1>Data Country ğŸŒ</h1>
    	
        <a href = "liste pays.html">Liste des pays</a>
    	<a href = "quiz.html">Quiz</a>
        <a href = "#FonctionnalitÃ©s">FonctionnalitÃ©s</a>
        <a href = "#API">API Rest Countries</a>
        <a href = "#Presentation">PrÃ©sentation</a>
    </div>

	<p id = "Presentation">
        Explorez le monde en un clic ! GrÃ¢ce Ã  <strong>CountryData</strong>, obtenez en temps rÃ©el des informations dÃ©taillÃ©es sur n'importe quel pays.
        Saisissez simplement un nom de pays et dÃ©couvrez sa capitale, sa population, sa monnaie, ses langues officielles et bien plus encore.
    </p>
	
    <h2 id = "API">DÃ©couvrez les pays en dÃ©tail ğŸ“Š</h2>
    <p>
        Notre plateforme utilise l'API <strong>Rest Countries</strong> pour vous fournir des donnÃ©es prÃ©cises et mises Ã  jour.
		Elle fournit des informations dÃ©taillÃ©es telles que : <ul>
		<li>âœ… Nom officiel et commun du pays</li>
		<li>âœ… Capitale</li>
		<li>âœ… Population</li>
		<li>âœ… Langues officielles</li>
		<li>âœ… Monnaie et symboles</li>
		<li>âœ… Drapeau et armoiries</li>
		<li>âœ… Fuseaux horaires</li>
		<li>âœ… CoordonnÃ©es gÃ©ographiques</li> </ul>
    </p>
    <p>
		Facile Ã  utiliser, lâ€™API propose plusieurs points dâ€™accÃ¨s permettant de rechercher un pays par son nom, son code ISO, sa rÃ©gion, ou mÃªme sa monnaie.
        Que vous soyez curieux, Ã©tudiant ou voyageur, <strong>CountryData</strong> vous permet dâ€™accÃ©der rapidement aux informations essentielles sur chaque nation.
    </p>

    <h2 id = "FonctionnalitÃ©s">Options et fonctionnalitÃ©s âš™ï¸</h2>
    <ul>
        <li><strong>ğŸ”¹ Recherche intuitive :</strong> Tapez le nom dâ€™un pays et obtenez instantanÃ©ment ses informations.</li>
        <li><strong>ğŸ”¹ Affichage enrichi :</strong> DÃ©couvrez le drapeau du pays ainsi que ses principales caractÃ©ristiques.</li>
        <li><strong>ğŸ”¹ Navigation rapide :</strong> Interface simple et fluide pour une expÃ©rience agrÃ©able.</li>
        <li><strong>ğŸ”¹ Options avancÃ©es (bientÃ´t disponibles) :</strong> Comparez plusieurs pays, affichez des cartes interactives et bien plus encore !</li>
    </ul>

    <h2>Testez vos connaissances avec notre quiz ğŸŒâ“</h2>
    <p>
        Pensez-vous bien connaÃ®tre les pays du monde ? Mettez-vous Ã  lâ€™Ã©preuve avec notre <strong>quiz interactif</strong> !
        Sur une autre page dÃ©diÃ©e, rÃ©pondez Ã  des questions sur les capitales, les drapeaux, la dÃ©mographie et d'autres faits intÃ©ressants.
        Ã€ chaque bonne rÃ©ponse, gagnez des points et progressez dans votre connaissance du globe.
		(relie les pages html)
    </p>

    <h2>Pourquoi utiliser CountryData ? ğŸ¤”</h2>
    <ul>
        <li><strong>âœ… FiabilitÃ© :</strong> DonnÃ©es officielles issues de lâ€™API Rest Countries.</li>
        <li><strong>âœ… Gratuit & Accessible :</strong> Pas dâ€™inscription, tout est disponible immÃ©diatement.</li>
        <li><strong>âœ… IdÃ©al pour apprendre :</strong> AmÃ©liorez votre culture gÃ©nÃ©rale tout en vous amusant.</li>
    </ul>

    <h2>PrÃªt Ã  explorer ? ğŸš€</h2>
    <p>Saisissez le nom dâ€™un pays et commencez votre voyage dÃ¨s maintenant !</p>
	<h2>Remarque: Le nom des pays est Ã  Ã©crire en <strong>anglais</strong>. La liste des pays est disponible ici (relie les pages html)</h2>
    <h1><label for="name"> Entrer un pays :</label></h1>
    <input type="text" id="name" name="name" size="30"/>
    <button onclick="getCountry()">Valider</button>

    <p id="result"></p> <!-- Zone oÃ¹ afficher le rÃ©sultat -->

    <script>
        function getCountry() {
		let country = document.getElementById("name").value; // On prend le texte Ã©crit 
		
		fetch(`https://restcountries.com/v3.1/name/${country}?fullText=true`) // Appel de l'api fetch pour prendre les infos du DOM
                .then(response => { // On utilise .then avec les Promise
                    if (!response.ok) {
                        throw new Error("Pays introuvable"); // Cas erreur
                    }
                    return response.json();
                })
				
				.then(data => { // Le resultat d'un .then devient le parametre du .then d'apres
					
                    let paysdata = data[0]; // On a qu'une valeur cas on prÃ©cise le pays dans le fetch, les autres pays apparaissent donc pas
                    let name = paysdata.name.common;
                    let capital = paysdata.capital ? paysdata.capital[0] : "N/A"; // Condition ternaire au cas ou la capitale est pas disponible
                    let population = paysdata.population.toLocaleString(); //.toLocaleString() met en forme le nombre donc met des espaces tout les 3 chiffres
                    let languages = Object.values(paysdata.languages).join(", "); // Au cas ou il y a plusieurs langues
                    let currency = Object.values(paysdata.currencies)[0].name; // Monnaie
                    let flag = paysdata.flags.svg; // Lien d'une image pour le drapeau

                    document.getElementById("result").innerHTML = // Affichage du texte en integrant du html
					`
                        <h2>${name}</h2>
                        <p><strong>ğŸ™ï¸ Capitale :</strong> ${capital}</p>
                        <p><strong>ğŸ‘¥ Population :</strong> ${population}</p>
                        <p><strong>ğŸ—£ï¸ Langues :</strong> ${languages}</p>
                        <p><strong>ğŸ’° Monnaie :</strong> ${currency}</p>
                        <img src="${flag}" alt="Drapeau de ${name}" width="150">
                    `;
                })
                .catch(error => { // Affichage message d'erreur
                    document.getElementById("result").innerHTML = `<p style='color:red;'>${error.message}</p> <p><strong>Aide et remarques:</strong> VÃ©rifier que le nom a bien Ã©tÃ© Ã©crit.<br> Exemple:
					France:âœ…, france: âœ…;  Farnce:âŒ Frances:âŒ <br> <br>
					L'API Rest Countries ne liste que les pays reconnus internationalement.<br> <br>
					C'est Ã  dire par exemple, l'Angleterre fait partie du Royaume-Uni (United Kingdom), qui regroupe : <br>
					âœ… England (Angleterre)<br>
					âœ… Scotland (Ã‰cosse)<br>
					âœ… Wales (Pays de Galles)<br>
					âœ… Northern Ireland (Irlande du Nord)<br><br>

					L'API ne sÃ©pare pas ces rÃ©gions, mais les inclut sous le nom United Kingdom. Ainsi, Ã©crire England ou Angleterre ne renvoie rien. </p>`; // Change le css si tu veux Mayass
                    console.error("Erreur :", error); // texte en rouge si c'est ratÃ©
                });
        }
    </script>

</body>
</html>
